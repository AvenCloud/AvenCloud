
## Navigation 

Now we will make our app change screens and respond to the back button

## React Navigation

A library that provides navigation components and behavior for mobile apps.

## Get Started

Lets follow the [setup steps](https://reactnavigation.org/docs/getting-started/) for React Navigation.

```
expo install react-native-gesture-handler react-native-reanimated react-native-screens react-native-safe-area-context @react-native-community/masked-view
npm install @react-navigation/native @react-navigation/stack
```

Now, we can set up our `App.js` to use a stack navigator:

```js
import React from "react";
import * as eva from "@eva-design/eva";
import HomeScreen from "./HomeScreen";
import CityScreen from "./CityScreen";
import { ApplicationProvider, IconRegistry } from "@ui-kitten/components";
import { EvaIconsPack } from "@ui-kitten/eva-icons";
import { NavigationContainer } from "@react-navigation/native";
import { createStackNavigator } from "@react-navigation/stack";

const THEME = {
  ...eva.light,
  "color-primary-100": "#F2F6FF",
  "color-primary-200": "#e9E4FF",
  "color-primary-300": "#c6C1FF",
  "color-primary-400": "#898BFF",
  "color-primary-500": "#7366FF",
  "color-primary-600": "#574BDB",
  "color-primary-700": "#4A34B8",
  "color-primary-800": "#402694",
  "color-primary-900": "#291C7A",
};

const Stack = createStackNavigator();

export default () => (
  <>
    <IconRegistry icons={EvaIconsPack} />
    <ApplicationProvider {...eva} theme={THEME}>
      <NavigationContainer>
        <Stack.Navigator>
          <Stack.Screen name="Home" component={HomeScreen} />
          <Stack.Screen name="City" component={CityScreen} />
        </Stack.Navigator>
      </NavigationContainer>
    </ApplicationProvider>
  </>
);
```

Lets create a new `CityScreen.js`:

```js
import React from "react";
import { Layout, Text } from "@ui-kitten/components";
import { StyleSheet } from "react-native";

export default function CityScreen({ route }) {
  const { id, name } = route.params;
  return (
    <Layout style={styles.layout}>
      <Text category="h1" status="primary">
        {name}
      </Text>
    </Layout>
  );
}

const styles = StyleSheet.create({
  layout: {
    flex: 1,
    marginTop: 20,
    marginHorizontal: 12,
    alignItems: "center",
  },
});
```

Now our new screen exists, but we have no way to get to it. Lets fix that by adding a press handler to our CityCard component in `HomeScreen.js`

```js
import { useNavigation } from "@react-navigation/native";

function CityRow({ city }) {
  // ...
  const { navigate } = useNavigation();
  return (
    <Card
      onPress={() => {
        navigate("City", { id: city.city, name: city.name });
      }}
      // ...
```

For the title of the city screen, we can set the title with the options prop. Or it can be set as a function:

```js
<Stack.Screen
  options={({ route }) => ({ title: route.params.name })}
  ...
```

We can also disable the header on the home screen:

```js
<Stack.Screen
  options={{ header: () => null }}
```

Things are looking a bit strange now, so