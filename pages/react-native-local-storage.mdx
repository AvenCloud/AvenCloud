---
title: React Native Local Storage
layout: course-chapter
seriesNumber: 8
---

### Install AsyncStorage

```
npm i @react-native-community/async-storage
```

### Usage

AsyncStorage has two essential functions for storing and retreiving data. To store data, use `setItem`

```jsx
await AsyncStorage.setItem('message', 'hello!')
```

And to retreive that string we saved:

```jsx
const message = await AsyncStorage.getItem('message')
if (message === null) {
  console.log('Could not find message!')
} else {
  console.log(message)
}
```


### Store Integration

```jsx
import AsyncStorage from "@react-native-community/async-storage";

let favorites = null;
const subscriptions = new Set();

const FAVS_STORAGE_KEY = "FavoriteCities-0";

AsyncStorage.getItem(FAVS_STORAGE_KEY)
  .then((data) => {
    if (data === null) {
      favorites = [];
      subscriptions.forEach((handle) => {
        handle(favorites);
      });
    } else {
      const storedFavorites = JSON.parse(data);
      favorites = storedFavorites;
      subscriptions.forEach((handle) => {
        handle(favorites);
      });
    }
  })
  .catch((err) => {
    console.error("Could not load favorites", err);
  });

function setFavorites(transaction) {
  favorites = transaction(favorites);
  subscriptions.forEach((handle) => {
    handle(favorites);
  });
  AsyncStorage.setItem(FAVS_STORAGE_KEY, JSON.stringify(favorites)).catch(
    (err) => {
      console.error("Could not write favorites", err);
    }
  );
}
```

#### [Next: Maps](/react-native-maps)

<!--- Â© Aven LLC and Aven Contributors. Licensed under Creative Commons BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/ -->
